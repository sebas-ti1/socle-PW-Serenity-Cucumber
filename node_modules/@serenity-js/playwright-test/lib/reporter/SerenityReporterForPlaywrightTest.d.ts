import type { FullConfig } from '@playwright/test';
import type { Reporter, Suite, TestCase, TestError, TestResult } from '@playwright/test/reporter';
import type { ClassDescription, Serenity, StageCrewMember, StageCrewMemberBuilder } from '@serenity-js/core';
import type { OutputStream } from '@serenity-js/core/lib/adapter';
import { RequirementsHierarchy } from '@serenity-js/core/lib/io';
/**
 * Configuration object accepted by `@serenity-js/playwright-test` reporter.
 *
 * See [`SerenityOptions`](https://serenity-js.org/api/playwright-test/interface/SerenityOptions/) for usage examples.
 */
export interface SerenityReporterForPlaywrightTestConfig {
    /**
     * A list of [stage crew member builders](https://serenity-js.org/api/core/interface/StageCrewMemberBuilder/) or [stage crew members](https://serenity-js.org/api/core/interface/StageCrewMember/)
     * to be instantiated in Playwright Test reporter process and notified of [Serenity/JS domain events](https://serenity-js.org/api/core-events/class/DomainEvent/) that occur during the scenario execution.
     * Note that the `crew` can also be configured using [class descriptions](https://serenity-js.org/api/core/#ClassDescription).
     *
     * #### Learn more
     * - [`SerenityOptions`](https://serenity-js.org/api/playwright-test/interface/SerenityOptions/)
     * - [`SerenityConfig.crew`](https://serenity-js.org/api/core/class/SerenityConfig/#crew)
     */
    crew?: Array<StageCrewMember | StageCrewMemberBuilder | ClassDescription>;
    /**
     * An output stream to be injected into [stage crew member builders](https://serenity-js.org/api/core/interface/StageCrewMemberBuilder/)
     *
     * Defaults to [`process.stdout`](https://nodejs.org/api/process.html#process_process_stdout).
     *
     * #### Learn more
     * - [`SerenityConfig.outputStream`](https://serenity-js.org/api/core/class/SerenityConfig/#outputStream)
     */
    outputStream?: OutputStream;
}
/**
 * Serenity/JS reporter that receives notifications from Playwright Test and emits them as
 * Serenity/JS [Serenity/JS domain events](https://serenity-js.org/api/core-events/class/DomainEvent/) which can be used by
 * Serenity/JS [stage crew members](https://serenity-js.org/api/core/interface/StageCrewMember/).
 */
export declare class SerenityReporterForPlaywrightTest implements Reporter {
    private readonly serenity;
    private requirementsHierarchy;
    private errorParser;
    private sceneIds;
    private unhandledError?;
    /**
     * @param config
     * @param serenity
     *  Instance of [`Serenity`](https://serenity-js.org/api/core/class/Serenity/), specific to the Node process running this Serenity reporter.
     *  Note that Playwright runs test workers and reporters in separate processes.
     * @param requirementsHierarchy
     *  Root directory of the requirements hierarchy, used to determine capabilities and themes.
     */
    constructor(config: SerenityReporterForPlaywrightTestConfig, serenity?: Serenity, requirementsHierarchy?: RequirementsHierarchy);
    onBegin(config: FullConfig, suite: Suite): void;
    onTestBegin(test: TestCase): void;
    onTestEnd(test: TestCase, result: TestResult): void;
    onError(error: TestError): void;
    private determineScenarioOutcome;
    private outcomeFrom;
    private scenarioDetailsFrom;
    onEnd(): Promise<void>;
    private emit;
    private announceRetryIfNeeded;
    private now;
    printsToStdio(): boolean;
}
//# sourceMappingURL=SerenityReporterForPlaywrightTest.d.ts.map